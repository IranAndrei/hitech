<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="./base.xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core">

    <ui:define name="content">
        <div class="product card">
            <h:form enctype="multipart/form-data">
                <p:growl id="mensagem" showDetail="true" />

                <p:dataScroller value="#{dataScrollerView.products}" var="product" chunkSize="10" mode="inline" scrollHeight="550">
                    <f:facet name="header">
                        Escolha o produto que vocÃª deseja
                    </f:facet>
                    
                    <ui:repeat  value="#{produtoB.todosProdutos}" var="produto">
                    
                        <div>
                            <p:graphicImage id="gab" name="produtos/#{produto.foto}" width="300px" height="150px" />
                            <p:overlayPanel for ="@previous" style="width: 400px" >
                                <p><h:outputText value="#{produto.descricao}" /></p>
                                <p><h:outputText value="R$#{produto.preco}" /></p>
                            </p:overlayPanel>
                            <h:commandButton class="botao" value="Add ao carrinho!" action="#{produtoB.adicionarCarrinho(produto)}" styleClass="rounded-button" style="position: relative;left: 78%"/>
                        </div>
                        
                    </ui:repeat>
                </p:dataScroller>


            </h:form>
        </div>
    </ui:define>

</ui:composition>
